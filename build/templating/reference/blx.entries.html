
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
	<meta charset="utf-8" />
	<title>blx.entries - Blocks Docs</title>
	<link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
	<link rel="stylesheet" href="../../_static/css/docs.css" type="text/css" />
</head>

<body>
	<div class="sidebar">
		<div class="content">
			<h1>Blocks Docs</h1>

			<nav class="nav">
				<ul>
<li class="toctree-l1"><a class="reference internal" href="../../index.html">Blocks Docs Home</a></li>
</ul>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../installation.html">Installing and Updating</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../overview/index.html">System Overview</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../index.html">Templating</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../examples/index.html">Examples</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="index.html">Templating Reference</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="globals.html">Global Variables</a></li>
<li class="toctree-l3"><a class="reference internal" href="dates.html">Dates</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href=""><tt class="docutils literal"><span class="pre">blx.entries</span></tt></a><ul class="simple">
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="blx.request.html"><tt class="docutils literal"><span class="pre">blx.request</span></tt></a></li>
<li class="toctree-l3"><a class="reference internal" href="blx.users.html"><tt class="docutils literal"><span class="pre">blx.users</span></tt></a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../plugins/index.html">Plugin Development</a></li>
</ul>

			</nav>
		</div>
	</div>

	<div class="main">
		<div class="content">
			
				<ul class="crumbs">
					<li><a href="../index.html">Templating</a></li>
					<li><a href="index.html">Templating Reference</a></li>
				</ul>
			

			
  <div class="section" id="blx-entries">
<h1><tt class="docutils literal"><span class="pre">blx.entries</span></tt><a class="headerlink" href="#blx-entries" title="Permalink to this headline">¶</a></h1>
<p>You can access your site’s entries from your templates via <tt class="docutils literal"><span class="pre">blx.entries</span></tt>.</p>
<div class="section" id="output-functions">
<h2>Output Functions<a class="headerlink" href="#output-functions" title="Permalink to this headline">¶</a></h2>
<p>There are three ways you can get <tt class="docutils literal"><span class="pre">blx.entries</span></tt> to output data: <tt class="docutils literal"><span class="pre">find()</span></tt>, <tt class="docutils literal"><span class="pre">first()</span></tt>, and <tt class="docutils literal"><span class="pre">total()</span></tt>.</p>
<p>If you want to get an array of multiple entries that you can loop through, use <tt class="docutils literal"><span class="pre">find()</span></tt>:</p>
<div class="highlight-html"><div class="highlight"><pre>{% for entry in blx.entries.find() %}
    <span class="nt">&lt;li&gt;</span>{{ entry.title }}<span class="nt">&lt;/li&gt;</span>
{% endfor %}
</pre></div>
</div>
<p>If you just want to get one entry, use <tt class="docutils literal"><span class="pre">first()</span></tt>:</p>
<div class="highlight-html"><div class="highlight"><pre>{% set entry = blx.entries.first() %}

{{ entry.title}}
</pre></div>
</div>
<p>If you want to get the total number of entries, use <tt class="docutils literal"><span class="pre">total()</span></tt>:</p>
<div class="highlight-html"><div class="highlight"><pre>Total entries: {{ blx.entries.total() }}
</pre></div>
</div>
</div>
<div class="section" id="tailoring-the-results">
<h2>Tailoring the Results<a class="headerlink" href="#tailoring-the-results" title="Permalink to this headline">¶</a></h2>
<p>Calling <tt class="docutils literal"><span class="pre">blx.entries.find()</span></tt> by itself is going to return the last 100 live entries in your site. If that happens to be exactly what you needed, great! But most likely you’ll want to custimize the results a bit.</p>
<p>Blocks supports a number of parameters that should help you do just that.</p>
<div class="section" id="parameter-syntax">
<h3>Parameter Syntax<a class="headerlink" href="#parameter-syntax" title="Permalink to this headline">¶</a></h3>
<p>There are two ways you can add parameters to your <tt class="docutils literal"><span class="pre">blx.entries</span></tt> tag:</p>
<ol class="arabic">
<li><p class="first">You can chain the parameters together as additional functions before reaching the output function:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">blx</span><span class="o">.</span><span class="n">entries</span><span class="o">.</span><span class="n">section</span><span class="p">(</span><span class="s">&#39;blog&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">authorId</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span><span class="o">.</span><span class="n">find</span><span class="p">()</span>
</pre></div>
</div>
</li>
<li><p class="first">You can pass your parameters as an argument to the output functions:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">blx</span><span class="o">.</span><span class="n">entries</span><span class="o">.</span><span class="n">find</span><span class="p">({</span> <span class="n">section</span><span class="p">:</span> <span class="s">&#39;blog&#39;</span><span class="p">,</span> <span class="n">authorId</span><span class="p">:</span> <span class="mi">10</span> <span class="p">})</span>
</pre></div>
</div>
</li>
</ol>
<p>Both of these ways are perfectly valid, and each have their place. The former is more readable, but with the latter syntax, parameters can be defined once, and reused:</p>
<div class="highlight-html"><div class="highlight"><pre>{% set params = { section: &#39;blog&#39;, authorId: 10 } %}

Total entries: {{ blx.entries.total(params) }}

The last 5 entries:

<span class="nt">&lt;ul&gt;</span>
    {% for entry in blx.entries.limit(5).find(params) %}
        <span class="nt">&lt;li&gt;&lt;a</span> <span class="na">href=</span><span class="s">&quot;{{ entry.url }}&quot;</span><span class="nt">&gt;</span>{{ entry.title }}<span class="nt">&lt;/a&gt;&lt;/li&gt;</span>
    {% endfor %}
<span class="nt">&lt;/ul&gt;</span>
</pre></div>
</div>
<p>Notice how in that example, we only had to define the <tt class="docutils literal"><span class="pre">section</span></tt> and <tt class="docutils literal"><span class="pre">authorId</span></tt> parameters once, but were able to use them twice –&nbsp;once to get the grand total number of entries that meet the criteria, and a second time to actually grab the 5 latest ones.</p>
<p>That was also an example of how the two syntaxes can be mixed and matched. Notice how on that for-loop line, we are setting the limit using the chaining syntax, but applying the section and author parameters by passing <tt class="docutils literal"><span class="pre">params</span></tt> as an argument to <tt class="docutils literal"><span class="pre">find()</span></tt>.</p>
</div>
<div class="section" id="shared-parameters">
<h3>Shared Parameters<a class="headerlink" href="#shared-parameters" title="Permalink to this headline">¶</a></h3>
<p>Each of the <tt class="docutils literal"><span class="pre">blx.entries</span></tt> output functions share several parameters that will help you find the entry(s) you’re looking for:</p>
<dl class="docutils">
<dt><tt class="docutils literal"><span class="pre">id</span></tt></dt>
<dd>Only fetch the entry with the given ID.</dd>
<dt><tt class="docutils literal"><span class="pre">slug</span></tt></dt>
<dd>Only fetch the entry with the given slug.</dd>
<dt><tt class="docutils literal"><span class="pre">uri</span></tt></dt>
<dd>Only fetch the entry with the given URI.
The URI of the entry to fetch.</dd>
<dt><tt class="docutils literal"><span class="pre">sectionId</span></tt></dt>
<dd>Only fetch entries in the section with the given ID. (Publish Pro only)</dd>
<dt><tt class="docutils literal"><span class="pre">section</span></tt></dt>
<dd>Only fetch entries in the section with the given handle. (Publish Pro only)</dd>
<dt><tt class="docutils literal"><span class="pre">language</span></tt></dt>
<dd>The language the entries’ content should be returned in. (Languages only)</dd>
<dt><tt class="docutils literal"><span class="pre">authorId</span></tt></dt>
<dd>Only fetch entries that were authored by the user with the given ID. (Users only)</dd>
<dt><tt class="docutils literal"><span class="pre">authorGroupId</span></tt></dt>
<dd>Only fetch entries that were authored by users who belong to the group with the given ID. (Users only)</dd>
<dt><tt class="docutils literal"><span class="pre">authorGroup</span></tt></dt>
<dd>Only fetch entries that were authored by users who belong to the group with the given handle. (Users only)</dd>
<dt><tt class="docutils literal"><span class="pre">after</span></tt></dt>
<dd><p class="first">Only fetch entries with a Post Date that is on or after the given date. You can specify dates in the following formats:</p>
<ul class="last simple">
<li>YYYY</li>
<li>YYYY-MM</li>
<li>YYYY-MM-DD</li>
<li>YYYY-MM-DD HH:MM</li>
<li>YYYY-MM-DD HH:MM:SS</li>
<li>Unix timestamp</li>
<li>DateTime variable</li>
</ul>
</dd>
<dt><tt class="docutils literal"><span class="pre">before</span></tt></dt>
<dd>Only fetch entries with a Post Date that is before the given date. You can specify dates in the same formats as <tt class="docutils literal"><span class="pre">after</span></tt>.</dd>
<dt><tt class="docutils literal"><span class="pre">status</span></tt></dt>
<dd>Only fetch entries with the given status. Possible values are <tt class="docutils literal"><span class="pre">'live'</span></tt>, <tt class="docutils literal"><span class="pre">'pending'</span></tt>, <tt class="docutils literal"><span class="pre">'expired'</span></tt>, <tt class="docutils literal"><span class="pre">'disabled'</span></tt>, and <tt class="docutils literal"><span class="pre">'*'</span></tt>. The default value is <tt class="docutils literal"><span class="pre">'live'</span></tt>.</dd>
<dt><tt class="docutils literal"><span class="pre">archived</span></tt></dt>
<dd>Only fetch entries that have been archived by setting this to <tt class="docutils literal"><span class="pre">true</span></tt>.</dd>
<dt><tt class="docutils literal"><span class="pre">offset</span></tt></dt>
<dd>Skips the first <em>X</em> entries. For example, if you set <tt class="docutils literal"><span class="pre">offset(1)</span></tt>, the would-be second entry returned becomes the first.</dd>
</dl>
</div>
<div class="section" id="parameters-exclusive-to-find">
<h3>Parameters Exclusive to <tt class="docutils literal"><span class="pre">find()</span></tt><a class="headerlink" href="#parameters-exclusive-to-find" title="Permalink to this headline">¶</a></h3>
<p>The following parameters will only make a difference when calling the <tt class="docutils literal"><span class="pre">find()</span></tt> output function:</p>
<dl class="docutils">
<dt><tt class="docutils literal"><span class="pre">order</span></tt></dt>
<dd>The order the entries should be returned in. Possible values include <tt class="docutils literal"><span class="pre">'title'</span></tt>, <tt class="docutils literal"><span class="pre">'id'</span></tt>, <tt class="docutils literal"><span class="pre">'authorId'</span></tt>, <tt class="docutils literal"><span class="pre">'sectionId'</span></tt>, <tt class="docutils literal"><span class="pre">'slug'</span></tt>, <tt class="docutils literal"><span class="pre">'uri'</span></tt>, <tt class="docutils literal"><span class="pre">'postDate'</span></tt>, and <tt class="docutils literal"><span class="pre">'expiryDate'</span></tt>. If you want the entries to be sorted in descending order, add “`` desc``” after the property name (ex: <tt class="docutils literal"><span class="pre">'postDate</span> <span class="pre">desc'</span></tt>). The default value is <tt class="docutils literal"><span class="pre">'postDate</span> <span class="pre">desc'</span></tt>.</dd>
<dt><tt class="docutils literal"><span class="pre">limit</span></tt></dt>
<dd>Limits the results to <em>X</em> entries.</dd>
<dt><tt class="docutils literal"><span class="pre">indexBy</span></tt></dt>
<dd>Indexes the results by a given property. Possible values include <tt class="docutils literal"><span class="pre">'title'</span></tt>, <tt class="docutils literal"><span class="pre">'id'</span></tt>, <tt class="docutils literal"><span class="pre">'authorId'</span></tt>, <tt class="docutils literal"><span class="pre">'sectionId'</span></tt>, <tt class="docutils literal"><span class="pre">'slug'</span></tt>, <tt class="docutils literal"><span class="pre">'uri'</span></tt>, <tt class="docutils literal"><span class="pre">'postDate'</span></tt>, and <tt class="docutils literal"><span class="pre">'expiryDate'</span></tt>.</dd>
</dl>
</div>
<div class="section" id="parameter-value-syntax">
<h3>Parameter Value Syntax<a class="headerlink" href="#parameter-value-syntax" title="Permalink to this headline">¶</a></h3>
<p>Each of these parameters can be set to a single value or multiple values, and can optionally be used to <em>exclude</em> which entries get returned.</p>
<p>To pass in multiple values, you can either pass them as an array, comma-delimited string, or even as separate arguments if you’re using the chaining method:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">blx</span><span class="o">.</span><span class="n">entries</span><span class="o">.</span><span class="n">id</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span><span class="o">.</span><span class="n">find</span><span class="p">()</span>
<span class="n">blx</span><span class="o">.</span><span class="n">entries</span><span class="o">.</span><span class="n">id</span><span class="p">(</span><span class="s">&#39;1,2,3&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">find</span><span class="p">()</span>
<span class="n">blx</span><span class="o">.</span><span class="n">entries</span><span class="o">.</span><span class="n">find</span><span class="p">({</span> <span class="nb">id</span><span class="p">:</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">]</span> <span class="p">})</span>
<span class="n">blx</span><span class="o">.</span><span class="n">entries</span><span class="o">.</span><span class="n">find</span><span class="p">({</span> <span class="nb">id</span><span class="p">:</span> <span class="s">&#39;1,2,3&#39;</span> <span class="p">})</span>
</pre></div>
</div>
<p>To exclude entries with a given value, you must pass in a string, prefixed with “<a href="#id1"><span class="problematic" id="id2">``</span></a>not <a href="#id3"><span class="problematic" id="id4">``</span></a>”:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">blx</span><span class="o">.</span><span class="n">entries</span><span class="o">.</span><span class="n">id</span><span class="p">(</span><span class="s">&#39;not 1&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">find</span><span class="p">()</span>
<span class="n">blx</span><span class="o">.</span><span class="n">entries</span><span class="o">.</span><span class="n">find</span><span class="p">({</span> <span class="nb">id</span><span class="p">:</span> <span class="s">&#39;not 1&#39;</span> <span class="p">})</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="entry-properties">
<span id="id5"></span><h2>Entry Properties<a class="headerlink" href="#entry-properties" title="Permalink to this headline">¶</a></h2>
<p>Once you’ve got your entry, there are a number of properties and functions you can call from it.</p>
<dl class="docutils">
<dt><tt class="docutils literal"><span class="pre">id</span></tt></dt>
<dd>The entry’s ID.</dd>
<dt><tt class="docutils literal"><span class="pre">sectionId</span></tt></dt>
<dd>The entry’s section’s ID. (Publish Pro only)</dd>
<dt><tt class="docutils literal"><span class="pre">section</span></tt></dt>
<dd>The entry’s <tt class="xref doc docutils literal"><span class="pre">section</span> <span class="pre">object</span></tt>.</dd>
<dt><tt class="docutils literal"><span class="pre">authorId</span></tt></dt>
<dd>The entry’s author’s ID.</dd>
<dt><tt class="docutils literal"><span class="pre">author</span></tt></dt>
<dd>The entry’s author’s <tt class="xref doc docutils literal"><span class="pre">user</span> <span class="pre">object</span></tt>.</dd>
<dt><tt class="docutils literal"><span class="pre">langugae</span></tt></dt>
<dd>The language the entry’s content was returned in.</dd>
<dt><tt class="docutils literal"><span class="pre">title</span></tt></dt>
<dd>The entry’s title.</dd>
<dt><tt class="docutils literal"><span class="pre">slug</span></tt></dt>
<dd>The entry’s slug.</dd>
<dt><tt class="docutils literal"><span class="pre">uri</span></tt></dt>
<dd>The entry’s URI.</dd>
<dt><tt class="docutils literal"><span class="pre">url</span></tt></dt>
<dd>The entry’s full front-end URL.</dd>
<dt><tt class="docutils literal"><span class="pre">cpEditUrl</span></tt></dt>
<dd>The entry’s CP edit URL.</dd>
<dt><tt class="docutils literal"><span class="pre">postDate</span></tt></dt>
<dd>The entry’s post date.</dd>
<dt><tt class="docutils literal"><span class="pre">expiryDate</span></tt></dt>
<dd>The entry’s expiration date.</dd>
<dt><tt class="docutils literal"><span class="pre">enabled</span></tt></dt>
<dd>Whether the entry is enabled.</dd>
<dt><tt class="docutils literal"><span class="pre">status</span></tt></dt>
<dd>The entry’s status (‘live’, ‘pending’, ‘expired’, or ‘disabled’).</dd>
<dt><tt class="docutils literal"><span class="pre">tags</span></tt></dt>
<dd>An array of the entry’s tags.</dd>
</dl>
</div>
</div>



			
			<nav class="nav">
				Next up: <a href="blx.request.html">blx.request</a></li>
			</nav>
			
		</div>
	</div>
</body>
</html>